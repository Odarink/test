def di_search(path:dict, find:str):
    """ Поиск области видимости в общей структуре словарей 
    состовляющих области видимости именных полей. 
    Поиск в глубину (DFS)."""
    if find not in path:
        for i in path:
            if type(path[i])==type({}):
                return di_search(path[i],find)
            else:
                continue
    return path[find]
        
def di_get(path:dict,find:str,var:str,name = 'None'):
    """Функция для вывода области видимости введенного 
    обьекта по заданной области видимости."""      
    if find not in path:
        for i in path:
            if type(path[i])==type({}):
                di_get(path[i],find,var,name)
            else:
                continue
    if var in path:
        name = path[var]
    elif var in di_search(path,find):
        name =  path[find][var]
    return name
        
            
  
def res_di():
    """ Функция для определения области видимости обьектов,
 На вход поступает кол-во операций и операции обособленные
 вводом строки с клавиатуры.
 create - создание новой области видимости - var_name внутри 
 namespace - nasp.
 add - обьявление обьекта - var_name в заданной области 
 видимости nasp.
 get - вывод области видимости вызываемого обьекта - var_name
 в заданной области видимости - nasp."""
    numbers = int(input())
    di_name = {'global':{}}
    for i in range(numbers):
        func, nasp, var_name = input().split()
        if func == 'create': 
            nasp,var_name = var_name,nasp
            di_search(di_name,nasp).update({var_name:{}})
        if func == 'add':
            di_search(di_name,nasp).update({var_name:nasp})
        if func == 'get':
            print(di_get(di_name['global'],nasp,var_name,'None'))
    return di_name

res_di()
